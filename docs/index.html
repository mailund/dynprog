<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic Programming Domain-Specific Language • dynprog</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Dynamic Programming Domain-Specific Language">
<meta property="og:description" content="A domain-specific language for specifying translating recursions
    into dynamic-programming algorithms. See 
    &lt;https://en.wikipedia.org/wiki/Dynamic_programming&gt; for a description
    of dynamic programming.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">dynprog</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://twitter.com/ThomasMailund">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/mailund/dynprog">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="dynprog---domain-specific-language-for-specifying-dynamic-programming-computations" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#dynprog---domain-specific-language-for-specifying-dynamic-programming-computations" class="anchor"></a>dynprog - Domain-specific language for specifying dynamic programming computations</h1></div>

<p>The <code>dynprog</code> package implements a small domain-specific language for specifying dynamic programming algorithms. It allows you to specify a computation as a recursion and it will then use this recursion to fill out a table and return it to you.</p>
<p>As a very simple example, you can specify a dynamic programming computation of <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonnaci numbers</a> using</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">fibs &lt;-<span class="st"> </span>{</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    F[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    F[<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">    F[n] &lt;-<span class="st"> </span>F[n <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>F[n <span class="op">-</span><span class="st"> </span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">} <span class="op">%where%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9">fibs</a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt;  [1]  1  1  2  3  5  8 13 21 34 55</span></a></code></pre></div>
<p>As shown in the example, the expression consists of two parts, the first, before the <code>%where%</code> operator, describes a recursion and the second, after the <code>%where%</code> operator, the range the variable <code>n</code> should iterate over.</p>
<p>Formally, a <code>dynprog</code> expression is on the form</p>
<pre><code>DYNPROG_EXPR ::= RECURSIONS '%where%' RANGES
RECURSIONS ::= '{' PATTERN_ASSIGNMENTS '}'
RANGES ::= '{' RANGES_ASSIGNMENTS '}'</code></pre>
<p>where <code>PATTERN_ASSIGNMENTS</code> describe the recursion and <code>RANGES_ASSIGNMENTS</code> the variables to recurse over and the values those variables should take.</p>
<p>Ranges are the simplest of the two.</p>
<pre><code>RANGES_ASSIGNMENTS ::= RANGES_ASSIGNMENT
                    |  RANGES_ASSIGNMENT ';' RANGES_ASSIGNMENTS
RANGES_ASSIGNMENT ::= RANGE_INDEX '&lt;-' RANGE_EXPRESSION</code></pre>
<p>where <code>RANGE_INDEX</code> is just a variable and <code>RANGE_EXPRESSION</code> an expression that should evaluate to a list or vector. You can specify more than one variable if these are separated by <code>;</code> or newlines (the grammar only says <code>;</code> but I am not too formal here). An example with two range variables, of computing the <a href="https://en.wikipedia.org/wiki/Edit_distance">edit distance</a> between two strings, is shown below.</p>
<p>The actual recursions are specified in <code>PATTERN_ASSIGNMENTS</code>:</p>
<pre><code>PATTERN_ASSIGNMENTS ::= PATTERN_ASSIGNMENT
                     |  PATTERN_ASSIGNMENT ';' PATTERN_ASSIGNMENTS</code></pre>
<p>where</p>
<pre><code>PATTERN_ASSIGNMENT ::= PATTERN '&lt;-' RECURSION
                    |  PATTERN '&lt;-' RECURSION '?' CONDITION</code></pre>
<pre><code>PATTERN ::= TABLE '[' INDICES ']'</code></pre>
<p>Here, <code>TABLE</code> is just a variable and <code>INDICES</code> should be a comma-separated lists of values/expressions or variables. When recursions are evaluated, the range variables are tested against the patterns. If a pattern contains a range variable as a variable, the variable is free to take any value, but if it takes on a value, the range variable must have that value.</p>
<p>To the right of the assignment in <code>PATTERN_ASSIGNMENTS</code> we have <code>RECURSION</code>, which cna be any R expression and an optional <code>CONDITION</code>, which should be an R expression that evaluates to a boolean value.</p>
<p>The semantics of the recursions are that the patterns are tested in the order they are provided, and if both the patterns match the range variables and the condition evaluates to <code>TRUE</code>, then the entry in the table will get assigned the result of evaluating <code>RECURSION</code>.</p>
<p>For more information, see</p>
<blockquote>
<p>Mailund, T. (2018) <a href="https://amzn.to/2DRmFXb">Domain-Specific Languages in R</a>, Apress. ISBN 1484235878</p>
</blockquote>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of <code>dynprog</code> from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"dynprog"</span>)</a></code></pre></div>
<p>and the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"mailund/dynprog"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>You can compute the <a href="https://en.wikipedia.org/wiki/Edit_distance">edit-distance</a> between two strings like this:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">edit &lt;-<span class="st"> </span>{</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">  E[<span class="dv">1</span>,j] &lt;-<span class="st"> </span>j <span class="op">-</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5">  E[i,<span class="dv">1</span>] &lt;-<span class="st"> </span>i <span class="op">-</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6">  E[i,j] &lt;-<span class="st"> </span><span class="kw">min</span>(</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">      E[i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,j] <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">      E[i,j <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">      E[i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,j <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>(x[i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">!=</span><span class="st"> </span>y[j <span class="op">-</span><span class="st"> </span><span class="dv">1</span>])</a>
<a class="sourceLine" id="cb9-10" data-line-number="10"> )</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">} <span class="op">%where%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">    i &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>(<span class="kw">length</span>(x) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">    j &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>(<span class="kw">length</span>(y) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb9-15" data-line-number="15"></a>
<a class="sourceLine" id="cb9-16" data-line-number="16">edit</a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt; [1,]    0    1    2    3    4</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt; [2,]    1    0    1    2    3</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">#&gt; [3,]    2    1    0    1    2</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">#&gt; [4,]    3    2    1    1    1</span></a></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=dynprog">https://​cloud.r-project.org/​package=dynprog</a>
</li>
<li>Browse source code at <br><a href="https://github.com/mailund/dynprog">https://​github.com/​mailund/​dynprog</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mailund/dynprog/issues">https://​github.com/​mailund/​dynprog/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing dynprog</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Thomas Mailund <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.gnu.org/licenses/gpl-3.0.en.html"><img src="https://img.shields.io/badge/licence-GPL--3-blue.svg" alt="Licence"></a></li>
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="http://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
<li><a href="/commits/master"><img src="https://img.shields.io/badge/last%20change-2018--03--29-orange.svg" alt="Last-changedate"></a></li>
<li><a href="commits/master"><img src="https://img.shields.io/badge/Package%20version-0.1.0.9000-orange.svg?style=flat-square" alt="packageversion"></a></li>
<li><a href="https://travis-ci.org/mailund/dynprog"><img src="https://travis-ci.org/mailund/dynprog.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/mailund/dynprog"><img src="https://ci.appveyor.com/api/projects/status/github/mailund/dynprog?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/github/mailund/dynprog?branch=master"><img src="https://codecov.io/gh/mailund/dynprog/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://coveralls.io/github/mailund/dynprog?branch=master"><img src="http://coveralls.io/repos/github/mailund/dynprog/badge.svg?branch=master" alt="Coverage status"></a></li>
<li><a href="https://cran.r-project.org/package=dynprog"><img src="http://www.r-pkg.org/badges/version/dynprog" alt="CRAN status"></a></li>
<li><a href="https://cran.r-project.org/package=dynprog"><img src="http://cranlogs.r-pkg.org/badges/grand-total/dynprog" alt="CRAN downloads"></a></li>
<li><a href="https://cran.r-project.org/"><img src="https://img.shields.io/badge/R-%E2%89%A53.2-blue.svg" alt="minimal R version"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Thomas Mailund.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
